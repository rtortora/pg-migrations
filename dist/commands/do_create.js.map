{"version":3,"sources":["../../src/commands/do_create.js"],"names":["Path","require","FS","module","exports","migrationController","args","config","key","Date","toISOString","replace","filename","path","join","migrationsPath","writeFile","console","log","doCreate"],"mappings":";;AAAA,MAAMA,OAAOC,QAAQ,MAAR,CAAb;;AACA,MAAMC,KAAKD,QAAQ,YAAR,CAAX;;AAEAE,OAAOC,OAAP;AAAA;AAAA;AAAA,oCAAiB,WAAwBC,mBAAxB,EAA6CC,IAA7C,EAAmD;AAClE,UAAMC,eAAeF,oBAAoBE,MAApB,EAArB;AACA,UAAMC,MAAO,IAAIC,IAAJ,EAAD,CAAaC,WAAb,GAA2BC,OAA3B,CAAmC,WAAnC,EAAgD,EAAhD,EAAoDA,OAApD,CAA4D,QAA5D,EAAsE,EAAtE,CAAZ;AACA,UAAMC,WAAY,GAAEJ,GAAI,KAAxB;AACA,UAAMK,OAAOb,KAAKc,IAAL,CAAUP,OAAOQ,cAAjB,EAAiCH,QAAjC,CAAb;AACA,UAAMV,GAAGc,SAAH,CAAaH,IAAb,EAAoB;;;;;;CAApB,CAAN;AAOAI,YAAQC,GAAR,CAAa,SAAQlB,KAAKc,IAAL,CAAUP,OAAOQ,cAAjB,EAAiCH,QAAjC,CAA2C,EAAhE;AACD,GAbD;;AAAA,kBAAgCO,QAAhC;AAAA;AAAA;AAAA","file":"do_create.js","sourcesContent":["const Path = require('path');\nconst FS = require('async-file');\n\nmodule.exports = async function doCreate(migrationController, args) {\n  const config = await migrationController.config();\n  const key = (new Date()).toISOString().replace(/:\\d\\d\\..*/, '').replace(/[-T:]/g, '');\n  const filename = `${key}.js`;\n  const path = Path.join(config.migrationsPath, filename);\n  await FS.writeFile(path, `module.exports = {\n  up: async (pg)=>{\n  },\n  down: async(pg)=>{\n  },\n};\n`);\n  console.log(`Wrote ${Path.join(config.migrationsPath, filename)}`);\n}\n"]}