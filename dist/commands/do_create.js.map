{"version":3,"sources":["../../src/commands/do_create.js"],"names":["doCreate","migrationController","args","config","key","Date","toISOString","replace","filename","path","join","migrationsPath","writeFile","console","log"],"mappings":";;;;;;;AAAA;;AACA;;;;;;SAE8BA,Q;;;;;gCAAf,WAAwBC,mBAAxB,EAA6CC,IAA7C,EAAmD;AAChE,UAAMC,eAAeF,oBAAoBE,MAApB,EAArB;AACA,UAAMC,MAAO,IAAIC,IAAJ,EAAD,CAAaC,WAAb,GAA2BC,OAA3B,CAAmC,WAAnC,EAAgD,EAAhD,EAAoDA,OAApD,CAA4D,QAA5D,EAAsE,EAAtE,CAAZ;AACA,UAAMC,WAAY,GAAEJ,GAAI,KAAxB;;AACA,UAAMK,OAAO,cAAKC,IAAL,CAAUP,OAAOQ,cAAjB,EAAiCH,QAAjC,CAAb;;AACA,UAAM,mBAAGI,SAAH,CAAaH,IAAb,EAAoB;;;;;;CAApB,CAAN;AAOAI,YAAQC,GAAR,CAAa,SAAQ,cAAKJ,IAAL,CAAUP,OAAOQ,cAAjB,EAAiCH,QAAjC,CAA2C,EAAhE;AACD,G","file":"do_create.js","sourcesContent":["import Path from 'path';\nimport FS from 'async-file';\n\nexport default async function doCreate(migrationController, args) {\n  const config = await migrationController.config();\n  const key = (new Date()).toISOString().replace(/:\\d\\d\\..*/, '').replace(/[-T:]/g, '');\n  const filename = `${key}.js`;\n  const path = Path.join(config.migrationsPath, filename);\n  await FS.writeFile(path, `export default {\n  up: async (pg)=>{\n  },\n  down: async(pg)=>{\n  },\n};\n`);\n  console.log(`Wrote ${Path.join(config.migrationsPath, filename)}`);\n}\n"]}