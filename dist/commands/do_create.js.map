{"version":3,"sources":["../../src/commands/do_create.js"],"names":["Path","require","FS","module","exports","migrationController","args","config","key","Date","toISOString","replace","filename","path","join","migrationsPath","writeFile","console","log","doCreate"],"mappings":";;;;;;AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMC,EAAE,GAAGD,OAAO,CAAC,YAAD,CAAlB;;AAEAE,MAAM,CAACC,OAAP;AAAA;AAAA;AAAA,oCAAiB,WAAwBC,mBAAxB,EAA6CC,IAA7C,EAAmD;AAClE,UAAMC,MAAM,SAASF,mBAAmB,CAACE,MAApB,EAArB;AACA,UAAMC,GAAG,GAAI,IAAIC,IAAJ,EAAD,CAAaC,WAAb,GAA2BC,OAA3B,CAAmC,WAAnC,EAAgD,EAAhD,EAAoDA,OAApD,CAA4D,QAA5D,EAAsE,EAAtE,CAAZ;AACA,UAAMC,QAAQ,GAAI,GAAEJ,GAAI,KAAxB;AACA,UAAMK,IAAI,GAAGb,IAAI,CAACc,IAAL,CAAUP,MAAM,CAACQ,cAAjB,EAAiCH,QAAjC,CAAb;AACA,UAAMV,EAAE,CAACc,SAAH,CAAaH,IAAb,EAAoB;;;;;;CAApB,CAAN;AAOAI,IAAAA,OAAO,CAACC,GAAR,CAAa,SAAQlB,IAAI,CAACc,IAAL,CAAUP,MAAM,CAACQ,cAAjB,EAAiCH,QAAjC,CAA2C,EAAhE;AACD,GAbD;;AAAA,WAAgCO,QAAhC;AAAA;AAAA;;AAAA,SAAgCA,QAAhC;AAAA","sourcesContent":["const Path = require('path');\nconst FS = require('async-file');\n\nmodule.exports = async function doCreate(migrationController, args) {\n  const config = await migrationController.config();\n  const key = (new Date()).toISOString().replace(/:\\d\\d\\..*/, '').replace(/[-T:]/g, '');\n  const filename = `${key}.js`;\n  const path = Path.join(config.migrationsPath, filename);\n  await FS.writeFile(path, `module.exports = {\n  up: async (pg)=>{\n  },\n  down: async(pg)=>{\n  },\n};\n`);\n  console.log(`Wrote ${Path.join(config.migrationsPath, filename)}`);\n}\n"],"file":"do_create.js"}